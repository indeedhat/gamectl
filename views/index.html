{{ define "content" }}

<link rel="stylesheet" href="/assets/js/lib/codemirror/lib/codemirror.css" />
<link rel="stylesheet" href="/assets/js/lib/codemirror/theme/darcula.css" />
<script src="/assets/js/lib/codemirror/lib/codemirror.js"></script>

<div class="bodyTitle">> Main Controls</div>
<div class="body">
    <div id="resource-monitor">
        <div class="error">
            Kag, this really needs making pretty
            <br />
            HELP!
        </div>
        <div class="data"></div>
    </div>
    <script type="module">
        import ResourceMonitor from '/assets/js/resource-monitor.js';
        new ResourceMonitor("#resource-monitor");
    </script>

    {{ range $key, $app := .apps }}
        <div 
            class="serverStatus" 
            data-key="{{ $key }}" 
            data-config="{{ json $app.ConfigFiles }}"
            data-logs="{{ json $app.LogFiles }}"
        >
            <div class="serverTitle">> {{ $app.Title }}</div>

            <div class="dataContainer">
                <div class="dataTile statusLabel">Status  :</div>  
                <div class="dataTile status"> Fixme</div>

                <div class="dataTile playersLabel">Players :</div>  
                <div class="dataTile players" > 
                Fixme/Fixme
                </div>

                <div class="dataTile uptimeLabel">Uptime  :</div>  
                <div class="dataTile uptime"> fixme</div>

            </div>
            <img class="icon" src="{{ $app.Icon }}">
            <div class="controls">
                <div class="controller startStop">Stop</div>
                <div class="controller restart">Restart</div>
                <div class="controller config disabled">Config</div>
                <div class="controller logs disabled">Logs</div>
            </div>
        </div>
        <script type="module">
            import AppConfig from '/assets/js/app-config.js';
            new AppConfig('{{ $app.Title }}', '{{ $key }}');
        </script>

        <script>update_css()</script>
    {{ end }}

    <div class="clearfix"></div>
</div>

<!-- Begin Test -->

<!-- End Test -->


{{ end }}
